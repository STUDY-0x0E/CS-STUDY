# IP 주소

- 인터넷에 연결된 기기가 가지는 고유 주소

# ARP (Addres Resolution Protocol)

- IP 주소를 물리적인 MAC 주소로 바인딩 하기 위한 프로토콜
- 반대의 경우엔 RARP를 통해 실제 주소를 IP 주소로 변환할 수 있다

# 통신 용어

## 홉 바이 홉 통신

- IP 주소를 통해 통신하는 과정을 의미하며, 갓 패킷이 여러 개의 라우터를 건너가는 모습을 의미
- 통신 장치에 있는 라우팅 테이블의 IP 주소를 통해 다음 IP로 계속 이동해 가는 ‘라우팅’ 과정을 통해 최종 목적지까지 도달하는 통신을 의미

## 라우팅 테이블

- 송신지에서 수신지까지 도달하기 위해 사용된다
- 라우터에 들어가 있는 목적지 정보들과 그 목적지로 가기 위한 방법이 들어 있는 리스트를 의미

## 게이트 웨이

- 서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 컴퓨터 및 소프트웨어

# IP 주소 체계

| 구분 | IPv4 | IPv6 |
| --- | --- | --- |
| 주소 길이 | 32비트 | 128비트 |
| 표시 방법 | 8비트씩 나눠 10진수 표기 | 16비트로 나눠 16진수로 표기 |
| 브로드캐스트 | 있음 | 없음 (대신 멀티 캐스트 주소 사용) |
| 헤더 크기 | 가변 | 고정 |

## IP 할당 방식

## 클래스 기반 할당 방식

- A, B, C, D, E 다섯 개의 클래스로 구분하여 할당하는 방식
    
    ![Untitled](https://github.com/STUDY-0x0E/CS-STUDY/assets/66675919/d5c65350-8acb-4504-9276-add6f4e2ddb7)
    
- 앞 부분을 네트워크를 표시하는 주소, 뒷 부분을 네트워크 내의 컴퓨터(호스트)에 부여하는 방식
- 각 클래스의 구분은 맨 왼쪽에 있는 비트를 사용하는데, 이 비트를 구분 비트 (Parity Bit)라고 한다
    
    ![Untitled2](https://github.com/STUDY-0x0E/CS-STUDY/assets/66675919/a72430ca-1346-4f07-a189-9cd1c8616328)
    
    - A는 구분 비트가 1개이고 0으로 시작
    - B는 구분 비트가 2개이고 10으로 시작
    - C는 구분 비트가 3개로 110으로 시작
    - D는 구분 비트가 4개로 1110으로 시작
    - E는 1111으로 시작
- 각 네트워크의 첫 번째 주소(네트워크 영역을 제외한 나머지 영역이 모두 0)은 해당 네트워크를 가리킨다
- 각 네트워크의 마지막 주소 (네트워크 영역을 제외한 나머지 영역이 모두 255)는 해당 네트워크에 대해 브로드 캐스트용 주소가 된다
- 고정 길이로 사용하기 때문에 사용하는 주소보다 버리는 주소가 많은 단점이 있다

## DHCP (Dynamic Host Configuration Protocol)

- IP 주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관리 프로토콜
- 호스트가 네트워크에 연결할 때마다 임시 IP 할당
    - 서브넷 마스크, 게이트 웨이, 로컬 DNS 제공
    - 라우터에서 동작하기도 하지만 별도의 서버를 두기도 함
    - UDP 기반 작동 ⇒ 서브넷 내의 모든 기기들에게 브로드 캐스팅하여 DHCP 서버를 찾음
        - UDP 데이터 그램을 작성하여 전체 기기에 브로드 캐스팅
        - 서버에서 서버 IP와 클라이언트 IP 제안 정보를 회신
        - 클라이언트가 서버 IP를 통해 제안 받은 IP 사용 요청
        - 서버에서 승인 여부 전달

## NAT (Network Address Translation)

- 패킷의 IP 주소 정보를 수정하여 IP 주소를 다른 주소로 매핑하는 방법
    - 공인 IP와 사설 IP로 나눠 많은 주소를 처리
- 여러 대의 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속하기 위해 사용

### NAT를 이용한 보안

- 내부 네트워크의 주소와 외부에 드러나는 주소가 다르게 유지되어 내부 네트워크에 대한 어느 정도의 보안이 설정된다

### NAT의 단점

- 여러 명이 동시에 인터넷에 접속하게 되므로 실제로 접속하는 호스트 숫자에 따라 접속 속도가 느려질 수 있다

# 서브넷

- 라우터와 호스트를 연결하는 부분 네트워크
- 네트워크 내부에 구성된 네트워크로 생각하면 편하다
    - 자원을 효율적으로 사용한다 ⇒ IP로 표현 가능한 범위엔 한계가 있어 한 IP를 여러 개로 쪼갬
    - IP 주소를 낭비하는 경우를 방지한다

## 서브넷 마스크

- 서브넷 내의 IP를 결정 짓는 규칙
- 0의 비트는 호스트 부분을 나타내고, 1의 비트는 네트워크 부분을 나타낸다
    - IP 주소와 넷 마스크를 AND 연산하여 해당 IP의 네트워크 주소를 얻을 수 있다
    - 마스킹된 부분은 변경하면 네트워크가 변경되므로, 마스킹 되지 않은 비트 범위 이내에서 IP 주소를 사용할 수 있다
    - ex)
        - /24로 표기한 경우 서브넷 마스크는 255.255.255.0이며 256개 (맨 마지막 비트가 0 ~ 255)의 IP 주소를 가진다
        - 그 중 0과 255는 각각 네트워크 주소와 브로드 캐스팅 주소가 된다
